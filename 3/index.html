<!doctype html>
<html lang="en" rel="preload">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Project 0</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      padding: 2rem;
      font-family: 'Inter', sans-serif;
      background: #fafafa;
      color: #111;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 2.5rem;
    }
    h1.section-title {
      font-size: 1.8rem;
      font-weight: 600;
      margin-bottom: 1rem;
      text-align: center;
    }
    .row {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      width: 100%;
      max-width: 1500px;
    }
    .row.small {
      gap: 2.5rem;
    }
    .row.large {
      gap: 1rem;
    }
    .row.small img {
      max-width: 240px;
      width: 100%;
      border-radius: 8px;
    }
    .row.large img {
      max-width: 500px;
      border-radius: 8px;
    }
    .gif {
      width: 600px;
      height: auto;
      border-radius: 12px;
    }
    .section {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 1rem;
    }
    figure {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin: 0;
    }
    figcaption {
      font-size: 0.9rem;
      color: #555;
      margin-top: 0.5rem;
      text-align: center;
      font-style: italic;
    }
  </style>
</head>
<body>
  <h1>Project 2: Fun with Filters</h1>

    <div class="section">
    <h1 class="section-title">1.1: Convolutions</h1>

    <div>
        Firstly, I implemented two functions for calculating convolutions: one naive (4 nested for-loops) and one optimized (2 nested for loops). 
        Both functions are O(H*W*k^2) but the second function uses np.sum which applies vectorized optimizations, making the constant factor much smaller.
        I used the equation padding = (k - 1) / 2 to have the output image be the same size as the input image.
    </div>
        <div class="row large">
      <figure>
        <img src="images/convolutions.png">
        <figcaption>code for convolutions</figcaption>
      </figure>
    </div>

    <div>
        Next, I tested my convolution functions by applying convolutions with the box filter, dx filter, and dy filter on a selfie.
    </div>

    <div class="row small">
      <figure>
        <img src="images/IMG_2581.jpg">
        <figcaption>Original Image</figcaption>
      </figure>
    </div>

     <div class="row small">
      <figure>
        <img src="images/dx.png">
        <figcaption>after applying dx filter</figcaption>
      </figure>
      <figure>
        <img src="images/dy.png">
        <figcaption>after applying dy filter</figcaption>
      </figure>
      <figure>
        <img src="images/box.png">
        <figcaption>after applying box filter</figcaption>
      </figure>
    </div>
  </div>

  <div class="section">
    <h1 class="section-title">1.2: Finite Difference Operator</h1>
    <div>
In this section, I computed the gradient magnitude image of this cameraman image by computing the dx and dy convolved versions of the image, and then computing the square root of the squares of their sums. This essentially combines the dx and dy convolutions, resulting in all of the "edges" of the image. dx essentially computes the vertical edges by showing any drastic horizontal changes, and similarly for dy with horizontal edges.

</div>
    <div>
Then, in order to binarize between edge and non-edge, I computed the binarization of the gradient magnitude image, experimenting with different thresholds for when values should be cast to 1 vs 0.
</div>
    <div class="row small">
      <figure>
        <img src="images/cameraman_gmi.png">
        <figcaption>Gradient Magnitude Image of Cameraman</figcaption>
      </figure>
    </div>
        <div class="row small">
      <figure>
        <img src="images/cameraman_gmi_binarized.png">
        <figcaption>Gradient Magnitude Image of Cameraman, binarized w/ cutoff = 120</figcaption>
      </figure>
    </div>
  </div>

    <div class="section">
    <h1 class="section-title">1.3: Derivative Of Gaussian</h1>
<div>
    The edges derivered from the binarized GMI in the previous section are a bit too noisy. To help alleviate this problem, we can first smooth the image via the Gaussian filter before creating the binarized GMI by applying the dx and dy filters, deriving the gradient magnitude, and binarizing. 
    Equivalently, we can first apply dx and dy to the Gaussian filter get the derivatives of the filter itself. We then convolve the image using these DoG filters, derive the gradient magnitude, and binarize.
</div>
    <div class="row small">
      <figure>
        <img src="images/cameraman_dog.png">
        <figcaption>blur image with Gaussian -> convolve blurred image with dx, dy filters -> compute GMI -> binarize (threshold=90)</figcaption>
      </figure>
      <figure>
        <img src="images/cameraman_dog_again.png">
        <figcaption>convolve Gaussian with dx, dy filters -> convolved image with DoG(x), DoG(y) filters -> compute GMI -> binarize (threshold=70)</figcaption>
      </figure>
    </div>
  </div>

  <div class="section">
    <h1 class="section-title">2.1: Sharpening</h1>
<div>
    We can "sharpen" an image by subtracting its blurred version. This can be implemented as a single filter which is known as the Laplacian.
    The filter follows the equation ((1 + alpha)*e_filter - alpha*gaussian), where the e_filter is simply 0s everywhere except the point we are applying the filter on.
    The variable alpha determines how much to sharpen the image by (i.e. how much blur to subtract), so increasing alpha will sharpen the image more.
    As shown below, we can also sharpen the sharpened version of the image. 
</div>
    <div class="row small">
      <figure>
        <img src="images/taj.png">
        <figcaption>Taj Mahal</figcaption>
      </figure>
      <figure>
        <img src="images/taj_sharpened.png">
        <figcaption>Taj Mahal sharpened, alpha=0.5</figcaption>
      </figure>
      <figure>
        <img src="images/taj_sharpened_sharpened.png">
        <figcaption>Sharpened Taj Mahal sharpened, alpha=0.5</figcaption>
      </figure>
    </div>
    <div class="row small">
      <figure>
        <img src="images/macaque.png">
        <figcaption>Japanese Macaque</figcaption>
      </figure>
      <figure>
        <img src="images/macaque_sharpened.png">
        <figcaption>Macaque sharpened, alpha=1</figcaption>
      </figure>
      <figure>
        <img src="images/macaque_sharpened_sharpened.png">
        <figcaption>Sharpened macaque sharpened, alpha=1</figcaption>
      </figure>
    </div>
        <div class="row small">
      <figure>
        <img src="images/macaque_super_sharpened.png">
        <figcaption>Macaque sharpened, alpha=3</figcaption>
      </figure>
      <figure>
        <img src="images/macaque_super_sharpened_sharpened.png">
        <figcaption>Sharpened macaque sharpened, alpha=3</figcaption>
      </figure>
    </div>
  </div>

    <div class="section">
    <h1 class="section-title">2.2: Hybrid Images</h1>

    <div>
        Given two images A and B, we can hybridize them in a special way by summing together a low-frequency version of A and high-frequency version of B.
        This results in the optical phenomenon of seeing something that looks more like A when we view the image closer, and more like B when we view the image farther away.
        This is because our eyes see less high frequencies as we move farther away from an image.
    </div>

    <div>Here is an example provided by the CS180 course staff.</div>
    <div class="row small">
      <figure>
        <img src="images/nutmeg.jpg">
        <figcaption>Nutmeg (original image)</figcaption>
      </figure>
        <figure>
        <img src="images/DerekPicture.jpg">
        <figcaption>Derek (original image)</figcaption>
      </figure>
    </div>
    <div class="row large">
      <figure>
        <img src="images/cat_aligned.png">
        <figcaption>Nutmeg, aligned</figcaption>
      </figure>
      <figure>
        <img src="images/derek_aligned.png">
        <figcaption>Derek, aligned</figcaption>
      </figure>
    </div>
      <div class="row large">
      <figure>
        <img src="images/derek_and_cat.png">
        <figcaption>Derek + Nutmeg Hybrid Image</figcaption>
      </figure>
      <figure>
        <img src="images/derek_cat_fft.png">
        <figcaption>Derek + Nutmeg Hybrid Image FFT</figcaption>
      </figure>
    </div>

    <div>Here, I've attempted to create an image that shows Legolas from Lord of the Rings close up and Aragorn as one steps farther away (or squints one's eyes). </div>
    <div class="row large">
      <figure>
        <img src="images/legolas.jpg" width="300">
        <figcaption>Legolas, original</figcaption>
      </figure>
      <figure>
        <img src="images/aragorn.jpg" width="300">
        <figcaption>Aragorn, original</figcaption>
      </figure>
    </div>
        <div class="row large">
      <figure>
        <img src="images/legolas_aragorn.png" width="500">
        <figcaption>Legolas + Aragorn</figcaption>
      </figure>
    </div>
  </div>

  <div>Here, I've tried to create a "sheep in wolf's clothing" -- from far away, the image appears to be a wolf, but as we look closer, it becomes a sheep.</div>
    <div class="row large">
      <figure>
        <img src="images/lilgoat.jpeg" width="300">
        <figcaption>Sheep, original</figcaption>
      </figure>
      <figure>
        <img src="images/wolf.jpg" width="300">
        <figcaption>Wolf, original</figcaption>
      </figure>
    </div>
        <div class="row large">
      <figure>
        <img src="images/wolf_sheep.png" width="350">
        <figcaption>Wolf + Sheep combined</figcaption>
      </figure>
    </div>
  </div>


  <div class="section">
    <h1 class="section-title">2.3 - 4: MultiResolution Blending</h1>
    <div>To achieve more seamless blends between images, the process is as follows.
    1. Create Gaussian and Laplacian stacks. We increasingly blur the image and compute the Laplacian at each step, i.e. for lower and lower frequencies.
        2. Create a Gaussian stack for the mask we want to use to define the boundary between the two images we are combining. 3. Multiply the most blurred image (at the bottom of the Gaussian stack) and the most blurred mask to get our base.
    4. Repeatedly add the product of the next most blurred mask and the corresponding Laplacian. Essentially, we are trying to blur at various frequency levels for an overall smoother effect.
    We can use both vertical / horizontal masks and irregular masks to achieve the same effect.
    </div>
    <div class="row small">
      <figure>
        <img src="images/zeger_base_gaussian.png">
        <figcaption>Zebra + Tiger Base Gaussian</figcaption>
      </figure>
    </div>
    <div class="row small">
      <figure>
        <img src="images/zeger_lap_1.png">
        <figcaption>Zebra + Tiger Laplacian, layer 1</figcaption>
      </figure>
      <figure>
        <img src="images/zeger_lap_1_a.png">
        <figcaption>Zebra Laplacian, Layer 1</figcaption>
      </figure>
      <figure>
        <img src="images/zeger_lap_1_b.png">
        <figcaption>Tiger Laplacian, Layer 1</figcaption>
      </figure>
    </div>
    <div class="row small">
      <figure>
        <img src="images/zeger_lap_7.png">
        <figcaption>Zebra + Tiger Laplacian, Layer 7</figcaption>
      </figure>
      <figure>
        <img src="images/zeger_lap_7_a.png">
        <figcaption>Zebra Laplacian, Layer 7</figcaption>
      </figure>
      <figure>
        <img src="images/zeger_lap_7_b.png">
        <figcaption>Tiger Laplacian, Layer 7</figcaption>
      </figure>
      <div class="row large">
        <figure>
            <img src="images/zeger.png">
            <figcaption>Zebra + Tiger</figcaption>
        </figure>
        </div>
    </div>
        <div class="row small">
      <figure>
        <img src="images/jjk_base_gaussian.png">
        <figcaption>Person + Mouth, Base Gaussian</figcaption>
      </figure>
    </div>
    <div class="row small">
      <figure>
        <img src="images/jjk_lap_1.png">
        <figcaption>Person + Mouth Laplacian, Layer 1</figcaption>
      </figure>
      <figure>
        <img src="images/jjk_lap_1_b.png">
        <figcaption>Person Laplacian, Layer 1</figcaption>
      </figure>
      <figure>
        <img src="images/jjk_lap_1_a.png">
        <figcaption>Mouth Laplacian, Layer 1</figcaption>
      </figure>
    </div>
    <div class="row small">
      <figure>
        <img src="images/jjk_lap_7.png">
        <figcaption>Person + Mouth Laplacian, Layer 7</figcaption>
      </figure>
      <figure>
        <img src="images/jjk_lap_7_a.png">
        <figcaption>Person Laplacian, Layer 7</figcaption>
      </figure>
      <figure>
        <img src="images/jjk_lap_7_b.png">
        <figcaption>Mouth Laplacian, Layer 7</figcaption>
      </figure>
      <div class="row large">
        <figure>
            <img src="images/jjk.png">
            <figcaption>Final Result</figcaption>
        </figure>
        </div>
    </div>
        <div class="row small">
      <figure>
        <img src="images/oraple_base_gaussian.png">
        <figcaption>Oraple, Base Gaussian</figcaption>
    </div>
    <div class="row small">
      <figure>
        <img src="images/oraple_lap_1.png">
        <figcaption>Oraple Laplacian, layer 1</figcaption>
      </figure>
      <figure>
        <img src="images/oraple_lap_1_a.png">
        <figcaption>Orange Laplacian, layer 1</figcaption>
      </figure>
      <figure>
        <img src="images/oraple_lap_1_b.png">
        <figcaption>Apple Laplacian, layer 1</figcaption>
      </figure>
    </div>
        <div class="row small">
      <figure>
        <img src="images/oraple_lap_3.png">
        <figcaption>Oraple Laplacian, layer 3</figcaption>
      </figure>
      <figure>
        <img src="images/oraple_lap_3_a.png">
        <figcaption>Orange Laplacian, layer 3</figcaption>
      </figure>
      <figure>
        <img src="images/oraple_lap_3_b.png">
        <figcaption>Apple Laplacian, layer 3</figcaption>
      </figure>
    </div>
    <div class="row small">
      <figure>
        <img src="images/oraple_lap_7.png">
        <figcaption>Oraple Laplacian, layer 7</figcaption>
      </figure>
      <figure>
        <img src="images/oraple_lap_7_a.png">
        <figcaption>Orange Laplacian, layer 7</figcaption>
      </figure>
      <figure>
        <img src="images/oraple_lap_7_b.png">
        <figcaption>Apple Laplacian, layer 7</figcaption>
      </figure>
      <div class="row large">
        <figure>
            <img src="images/oraple.png">
            <figcaption>Oraple!</figcaption>
        </figure>
        </div>
    </div>
    <div class="caption"></div>
  </div>
</body>
</html>
